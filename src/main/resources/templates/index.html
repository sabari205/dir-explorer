<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<script src="https://cdn.tailwindcss.com"></script>
    <style type="text/tailwindcss">
		@layer base {
			a {
			    @apply underline text-blue-600;
			}
			a:hover {
			    @apply text-blue-800;
			}
			a:visited {
			    @apply text-purple-600;
			}
			h1 {
				@apply text-3xl;
			}
			h2 {
				@apply text-2xl;
			}
			h3 {
				@apply text-xl;
			}
			h4 {
				@apply text-lg;
			}
			h1, h2, h3, h4, h5, h6 {
				@apply font-extrabold font-serif;
			}
			ol {
				@apply list-decimal;
			}
			ul {
				@apply list-disc;
			}
            li {
                margin-left: 1em;
            }
		}
	
    </style>
	<title>Directory explorer</title>
</head>
<body>
	<h1>Explorer</h1>
	<div class="flex justify-center w-full font-serif text-sm">
		<div class="w-10/12">
			<p th:text="${pwd}"></p>
			<!-- <span th:text="${#strings.equals(prevDir, '/')}"></span> -->
			<div class="flex flex-col border-x border-t rounded border-black">
				<div class="grid grid-cols-10 border-b border-black text-base">
					<div class="col-span-8 p-2">Name</div>
					<div class="col-span-2 grid grid-cols-3">
						<div class="col-span-2 p-2 text-center">Last Modified</div>
						<div class="p-2 text-right">Size</div>
					</div>
				</div>
				<div th:if="${prevDir != null}" class="w-full p-2 border-b border-black">
					<a th:href="@{'/getDirList' + ${prevDir}}">..</a>
				</div>
				<div th:each="file: ${fileList}" class="grid grid-cols-10 border-b border-black">
					<div class="col-span-8 p-2">
						<a 
							th:if="${file.getType()}"
							th:text="${file.getName()}" 
							th:href="@{'/getDirList' + ${file.getAbsPath()}}"
						>
						</a>
						<a 
							th:unless="${file.getType()}"
							th:text="${file.getName()}" 
							th:href="@{'/getFileContents' + ${file.getAbsPath()}}"
						>
						</a>
					</div>
					<div class="col-span-2 grid grid-cols-3">
						<div class="col-span-2 p-2 text-center">
							<span th:text="${file.getLastModified()}"></span>
						</div>
						<div class="p-2 text-right">
							<span th:text="${file.formatSize()}"></span>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
</html>
